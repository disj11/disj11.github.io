<!doctype html><html lang=ko><head><script async src="https://www.googletagmanager.com/gtag/js?id=G-XD9VVSGMKV"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-XD9VVSGMKV")}</script><title>Http Client in Java ::</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content=" 개요 # 이전까지 자바에서 사용하던 HttpURLConnection 는 지원 수준이 너무 낮아 서드 파티 라이브러리인 Apache HttpClient, Jetty, 스프링의 RestTemplate 을 많이 사용하였다. 하지만 Java 11 에서 HTTP/2와 Web Socket 을 구현하는 HTTP Client API 의 표준화가 정식으로 도입되었다. 이번 포스팅에서는 Java 11 에서 채택된 HTTP Client API 표준화에 대해 알아본다.
"><meta name=keywords content="개발 블로그,개발블로그"><meta name=robots content="noodp"><link rel=canonical href=https://disj11.github.io/http-client-in-java/><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=https://disj11.github.io/style.css><link rel=apple-touch-icon-precomposed sizes=144x144 href=https://disj11.github.io/img/apple-touch-icon-144-precomposed.png><link rel="shortcut icon" href=https://disj11.github.io/img/favicon.png><link href=/fonts/Inter-Italic.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/fonts/Inter-Regular.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/fonts/Inter-Medium.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/fonts/Inter-MediumItalic.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/fonts/Inter-Bold.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/fonts/Inter-BoldItalic.woff2 rel=preload type=font/woff2 as=font crossorigin><meta name=twitter:card content="summary"><meta name=twitter:title content="Http Client in Java"><meta name=twitter:description content="Java 11 에서 채택된 Http Client API 에 대하여"><meta property="og:url" content="https://disj11.github.io/http-client-in-java/"><meta property="og:site_name" content="Life Log"><meta property="og:title" content="Http Client in Java"><meta property="og:description" content="Java 11 에서 채택된 Http Client API 에 대하여"><meta property="og:locale" content="ko"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-11-02T18:11:57+09:00"><meta property="article:modified_time" content="2021-11-02T18:11:57+09:00"><meta property="article:tag" content="Java"><script src=https://cdn.jsdelivr.net/npm/algoliasearch@4.14.2/dist/algoliasearch-lite.umd.js integrity="sha256-dImjLPUsG/6p3+i7gVKBiDM8EemJAhQ0VvkRK2pVsQY=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/@algolia/autocomplete-js></script><script>function initAutoComplete(){const e=document.createElement("div");e.id="autocomplete";const t=document.createElement("li");t.appendChild(e),document.querySelector("nav.menu > ul")?.prepend(t)}window.onload=()=>{initAutoComplete();const e=algoliasearch("UNAI0RLL8W","59b6ab5b05f94c572e2641c8e61aef71"),{autocomplete:t,getAlgoliaResults:n}=window["@algolia/autocomplete-js"];t({container:"#autocomplete",placeholder:"Search for posts",getSources({query:t}){return[{sourceId:"posts",getItems(){return n({searchClient:e,queries:[{indexName:"algolia",query:t,params:{hitsPerPage:5,attributesToSnippet:["title:10","content:35"],snippetEllipsisText:"…"}}]})},templates:{header({html:e}){return e`
                                    <span class="aa-SourceHeaderTitle"
                                        >Posts</span
                                    >
                                    <div class="aa-SourceHeaderLine" />
                                `},item({item:e,components:n,html:s}){return s`
                                    <a
                                        class="aa-ItemLink"
                                        href="${e.href}?search=${t}"
                                    >
                                        <div class="aa-ItemContent">
                                            <div class="aa-ItemContentBody">
                                                <div
                                                    class="aa-ItemContentTitle"
                                                >
                                                    ${n.Highlight({hit:e,attribute:"title"})}
                                                </div>
                                                <div
                                                    class="aa-ItemContentDescription"
                                                >
                                                    ${n.Snippet({hit:e,attribute:"content"})}
                                                </div>
                                            </div>
                                        </div>
                                    </a>
                                `},noResults(){return"No posts for this query."}}}]}})}</script><script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js></script><script>MathJax={tex:{displayMath:[["\\[","\\]"],["$$","$$"]],inlineMath:[["\\(","\\)"]]}}</script></head><body class=dark-theme><div class=container><header class=header><span class=header__inner><a href=/ class=logo style=text-decoration:none><span class=logo__mark><svg class="greater-icon" viewBox="0 0 44 44"><path fill="none" d="M15 8l14.729 14.382L15 35.367"/></svg>
</span><span class=logo__text>Life Log</span>
<span class=logo__cursor></span>
</a><span class=header__right><nav class=menu><ul class="menu__inner menu__inner--desktop"><li><a href=/notes>Notes</a></li><li><a href=/tags>Tags</a></li></ul><ul class="menu__inner menu__inner--mobile"><li><a href=/notes>Notes</a></li><li><a href=/tags>Tags</a></li></ul></nav><span class=menu-trigger><svg viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>
</span><span class=theme-toggle><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none"><path d="M22 41c10.4934.0 19-8.5066 19-19C41 11.5066 32.4934 3 22 3 11.5066 3 3 11.5066 3 22s8.5066 19 19 19zM7 22C7 13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22z"/></svg></span></span></span></header><div class=content><article class=post><h1 class=post-title>Http Client in Java</h1><div class=post-meta><time class=post-date>2021-11-02</time></div><span class=post-tags><a href=https://disj11.github.io/tags/java/>#java</a>&nbsp;</span><div class=post-content><h2 id=개요>개요
<a href=#%ea%b0%9c%ec%9a%94 class=h-anchor aria-hidden=true>#</a></h2><p>이전까지 자바에서 사용하던 <code>HttpURLConnection</code> 는 지원 수준이 너무 낮아 서드 파티 라이브러리인 <a href=https://hc.apache.org/httpcomponents-client-5.1.x/>Apache HttpClient</a>, <a href=https://www.eclipse.org/jetty/documentation.php>Jetty</a>, 스프링의 <a href=https://www.baeldung.com/rest-template>RestTemplate</a> 을 많이 사용하였다. 하지만 Java 11 에서 HTTP/2와 Web Socket 을 구현하는 HTTP Client API 의 표준화가 정식으로 도입되었다. 이번 포스팅에서는 Java 11 에서 채택된 HTTP Client API 표준화에 대해 알아본다.</p><h2 id=변경점-jep-321>변경점 (JEP 321)
<a href=#%eb%b3%80%ea%b2%bd%ec%a0%90-jep-321 class=h-anchor aria-hidden=true>#</a></h2><ol><li><p>Java 9 에서 도입되었던 HTTP API가 이제 공식적으로 Java SE API에 통합 되었다. 새로운 <a href=https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/package-summary.html>HTTP APIs</a> 는 <code>java.net.HTTP.*</code> 패키지에서 확인할 수 있다.</p></li><li><p>최신 버전의 HTTP 프로토콜은 stream multiplexing, header compression 와 push promises 등을 통해 전반벅인 성능이 향상되었다.</p></li><li><p>Java 11 부터 API는 비동기로 동작합니다. 비동기는 <code>CompletableFuture</code> 를 사용하여 구현되었다.</p></li><li><p>새로운 HTTP 클라이언트 API는 외부 종속성 없이 HTTP/2와 같은 최신 웹 기능을 지원한다.</p></li><li><p>새로운 API는 HTTP 1.1/2 WebSocket에 대한 기본 지원을 제공한다. 핵심 기능을 제공하는 클래스와 인터페이스는 다음과 같다.</p><ul><li>HttpClient class, java.net.http.HttpClient</li><li>HttpRequest class, java.net.http.HttpRequest</li><li>HttpResponse<t> interface, java.net.http.HttpResponse</li><li>WebSocket interface, java.net.http.WebSocket</li></ul></li></ol><h2 id=이전-버전의-문제점>이전 버전의 문제점
<a href=#%ec%9d%b4%ec%a0%84-%eb%b2%84%ec%a0%84%ec%9d%98-%eb%ac%b8%ec%a0%9c%ec%a0%90 class=h-anchor aria-hidden=true>#</a></h2><p>기존에 사용하던 HttpURLConnection API 는 다음과 같은 문제가 존재했다:</p><ul><li>더 이상 작동하지 않는 프로토콜을 사용하도록 디자인 되었다. (FTP, gopher, etc.)</li><li>HTTP/1.1 이전 버전이며 너무 추상적이다.</li><li>blocking mode 로만 동작한다. (하나의 스레드당 하나의 request/response)</li></ul><h2 id=http-client-api-개요>HTTP Client API 개요
<a href=#http-client-api-%ea%b0%9c%ec%9a%94 class=h-anchor aria-hidden=true>#</a></h2><p><code>HttpURLConnection</code> 과 달리 HTTP Client 는 동기화 비동기 모두를 제공한다. API는 다음의 3가지 핵심 클래스로 이루어 진다.</p><ul><li><code>HttpRequest</code> - <code>HttpClient</code> 를 통해 보낼 요청</li><li><code>HttpClient</code> - 여러 요청에 대한 공통 구성 정보를 담는 컨테이너 역할</li><li><code>HttpResponse</code> - <code>HttpRequest</code> 호출의 결과</li></ul><p>다음 섹션에서 각각에 대해 더 자세히 알아보자.</p><h2 id=httprequest>HttpRequest
<a href=#httprequest class=h-anchor aria-hidden=true>#</a></h2><p>이름에서 알 수 있듯 보내려는 요청을 나타내는 객체이다. <code>HttpRequest.Builder</code> 를 사용하여 새 인스턴스를 만들 수 있다. <code>Builder</code> 클래스는 <code>HttpRequest.newBuilder()</code> 를 통해 얻을 수 있다.</p><h3 id=uri-설정>URI 설정
<a href=#uri-%ec%84%a4%ec%a0%95 class=h-anchor aria-hidden=true>#</a></h3><p>요청을 생성할 때 가장 먼저 해야 할 일은 URL을 제공하는 것이다. 다음과 같이 두 가지 방법을 통해 URL 을 제공 할 수 있다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>HttpRequest.<span style=color:#a6e22e>newBuilder</span>(<span style=color:#66d9ef>new</span> URI(<span style=color:#e6db74>&#34;https://postman-echo.com/get&#34;</span>))
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>HttpRequest.<span style=color:#a6e22e>newBuilder</span>()
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>uri</span>(<span style=color:#66d9ef>new</span> URI(<span style=color:#e6db74>&#34;https://postman-echo.com/get&#34;</span>))
</span></span></code></pre></div><h3 id=http-method-지정>HTTP Method 지정
<a href=#http-method-%ec%a7%80%ec%a0%95 class=h-anchor aria-hidden=true>#</a></h3><p><code>Builder</code> 에서 다음 메서드 중 하나를 호출하여 사용할 HTTP Method 를 정의 할 수 있다.</p><ul><li>GET()</li><li>POST(BodyPublisher body)</li><li>PUT(BodyPublisher body)</li><li>DELETE()</li></ul><p><code>BodyPublisher</code> 에 대해서는 이후에 다루기로 하고, 먼저 간단한 GET 요청 예제를 살펴보자.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>HttpRequest request <span style=color:#f92672>=</span> HttpRequest.<span style=color:#a6e22e>newBuilder</span>()
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>uri</span>(<span style=color:#66d9ef>new</span> URI(<span style=color:#e6db74>&#34;https://postman-echo.com/get&#34;</span>))
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>GET</span>()
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>build</span>();
</span></span></code></pre></div><p>이 요청에는 요청에 필요한 모든 정보가 있다. 하지만 때때로 요청에 추가적인 파라미터가 필요할 수도 있다. 몇 가지 중요한 파라미터에는 다음과 같은 것들이 있다.</p><ul><li>HTTP protocol 의 버전</li><li>headers</li><li>timeout</li></ul><h3 id=http-protocol-버전>HTTP protocol 버전
<a href=#http-protocol-%eb%b2%84%ec%a0%84 class=h-anchor aria-hidden=true>#</a></h3><p>API 는 기본적으로 HTTP/2 프로토콜을 사용하지만 사용하려는 프로토콜의 버전을 명시할 수 있다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>HttpRequest request <span style=color:#f92672>=</span> HttpRequest.<span style=color:#a6e22e>newBuilder</span>()
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>uri</span>(<span style=color:#66d9ef>new</span> URI(<span style=color:#e6db74>&#34;https://postman-echo.com/get&#34;</span>))
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>version</span>(HttpClient.<span style=color:#a6e22e>Version</span>.<span style=color:#a6e22e>HTTP_2</span>)
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>GET</span>()
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>build</span>();
</span></span></code></pre></div><p>중요한 점은 HTTP/2 가 지원되지 않는 경우 클라이언트는 HTTP/1.1 로 대체한다는 점이다.</p><h3 id=header-설정>Header 설정
<a href=#header-%ec%84%a4%ec%a0%95 class=h-anchor aria-hidden=true>#</a></h3><p>header 에 추가적인 정보가 필요한 경우 builder 메서드를 사용할 수 있다. 여기에는 두 가지 방법이 있다.</p><ul><li><code>headers()</code> 메서드를 통해 모든 헤더를 키와 값의 쌍으로 제공</li><li><code>header()</code> 메서드를 통해 하나의 키와 값을 제공</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>HttpRequest request <span style=color:#f92672>=</span> HttpRequest.<span style=color:#a6e22e>newBuilder</span>()
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>uri</span>(<span style=color:#66d9ef>new</span> URI(<span style=color:#e6db74>&#34;https://postman-echo.com/get&#34;</span>))
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>headers</span>(<span style=color:#e6db74>&#34;key1&#34;</span>, <span style=color:#e6db74>&#34;value1&#34;</span>, <span style=color:#e6db74>&#34;key2&#34;</span>, <span style=color:#e6db74>&#34;value2&#34;</span>)
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>GET</span>()
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>build</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>HttpRequest request2 <span style=color:#f92672>=</span> HttpRequest.<span style=color:#a6e22e>newBuilder</span>()
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>uri</span>(<span style=color:#66d9ef>new</span> URI(<span style=color:#e6db74>&#34;https://postman-echo.com/get&#34;</span>))
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>header</span>(<span style=color:#e6db74>&#34;key1&#34;</span>, <span style=color:#e6db74>&#34;value1&#34;</span>)
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>header</span>(<span style=color:#e6db74>&#34;key2&#34;</span>, <span style=color:#e6db74>&#34;value2&#34;</span>)
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>GET</span>()
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>build</span>();
</span></span></code></pre></div><h3 id=timeout-설정>Timeout 설정
<a href=#timeout-%ec%84%a4%ec%a0%95 class=h-anchor aria-hidden=true>#</a></h3><p>Builder 인스턴스의 <code>timeout()</code> 메서드를 사용하여 응답 시간을 설정할 수 있다. 만약 응답 시간을 초과한다면 <code>HttpTimeoutException</code> 이 발생한다. 기본 값은 infinity 이다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>HttpRequest request <span style=color:#f92672>=</span> HttpRequest.<span style=color:#a6e22e>newBuilder</span>()
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>uri</span>(<span style=color:#66d9ef>new</span> URI(<span style=color:#e6db74>&#34;https://postman-echo.com/get&#34;</span>))
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>timeout</span>(Duration.<span style=color:#a6e22e>of</span>(10, SECONDS))
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>GET</span>()
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>build</span>();
</span></span></code></pre></div><h2 id=request-body-설정>Request Body 설정
<a href=#request-body-%ec%84%a4%ec%a0%95 class=h-anchor aria-hidden=true>#</a></h2><p>Request Method 가 <code>POST</code>, <code>PUT</code>, <code>DELETE</code> 인 경우 요청 본문을 설정할 수 있다. 새로운 API 는 요청 본문을 작성할 수 있도록 여러가지의 <code>BodyPublisher</code> 구현체를 제공한다.</p><ul><li>StringProcessor ( <code>HttpRequest.BodyPublishers.ofString</code> 를 사용하여 생성함)</li><li>InputStreamProcessor (<code>HttpRequest.BodyPublishers.ofInputStream</code> 를 사용하여 생성함)</li><li>ByteArrayProcessor (<code>HttpRequest.BodyPublishers.ofByteArray</code> 를 사용하여 생성함)</li><li>FileProcessor (<code>HttpRequest.BodyPublishers.ofFile</code> 를 사용하여 생성함)</li></ul><p>request body 가 필요 없는 경우는 <code>HttpRequest.BodyPublishers.noBody()</code> 를 사용한다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>HttpRequest request <span style=color:#f92672>=</span> HttpRequest.<span style=color:#a6e22e>newBuilder</span>()
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>uri</span>(<span style=color:#66d9ef>new</span> URI(<span style=color:#e6db74>&#34;https://postman-echo.com/post&#34;</span>))
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>POST</span>(HttpRequest.<span style=color:#a6e22e>BodyPublishers</span>.<span style=color:#a6e22e>noBody</span>())
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>build</span>();
</span></span></code></pre></div><h3 id=stringbodypublisher>StringBodyPublisher
<a href=#stringbodypublisher class=h-anchor aria-hidden=true>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>HttpRequest request <span style=color:#f92672>=</span> HttpRequest.<span style=color:#a6e22e>newBuilder</span>()
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>uri</span>(<span style=color:#66d9ef>new</span> URI(<span style=color:#e6db74>&#34;https://postman-echo.com/post&#34;</span>))
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>headers</span>(<span style=color:#e6db74>&#34;Content-Type&#34;</span>, <span style=color:#e6db74>&#34;text/plain;charset=UTF-8&#34;</span>)
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>POST</span>(HttpRequest.<span style=color:#a6e22e>BodyPublishers</span>.<span style=color:#a6e22e>ofString</span>(<span style=color:#e6db74>&#34;Sample request body&#34;</span>))
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>build</span>();
</span></span></code></pre></div><h3 id=inputstreambodypublisher>InputStreamBodyPublisher
<a href=#inputstreambodypublisher class=h-anchor aria-hidden=true>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>byte</span><span style=color:#f92672>[]</span> sampleData <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Sample request body&#34;</span>.<span style=color:#a6e22e>getBytes</span>();
</span></span><span style=display:flex><span>HttpRequest request <span style=color:#f92672>=</span> HttpRequest.<span style=color:#a6e22e>newBuilder</span>()
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>uri</span>(<span style=color:#66d9ef>new</span> URI(<span style=color:#e6db74>&#34;https://postman-echo.com/post&#34;</span>))
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>headers</span>(<span style=color:#e6db74>&#34;Content-Type&#34;</span>, <span style=color:#e6db74>&#34;text/plain;charset=UTF-8&#34;</span>)
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>POST</span>(HttpRequest.<span style=color:#a6e22e>BodyPublishers</span>.<span style=color:#a6e22e>ofInputStream</span>(() <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>new</span> ByteArrayInputStream(sampleData)))
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>build</span>();
</span></span></code></pre></div><h3 id=bytearrayprocessor>ByteArrayProcessor
<a href=#bytearrayprocessor class=h-anchor aria-hidden=true>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>byte</span><span style=color:#f92672>[]</span> sampleData <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Sample request body&#34;</span>.<span style=color:#a6e22e>getBytes</span>();
</span></span><span style=display:flex><span>HttpRequest request <span style=color:#f92672>=</span> HttpRequest.<span style=color:#a6e22e>newBuilder</span>()
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>uri</span>(<span style=color:#66d9ef>new</span> URI(<span style=color:#e6db74>&#34;https://postman-echo.com/post&#34;</span>))
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>headers</span>(<span style=color:#e6db74>&#34;Content-Type&#34;</span>, <span style=color:#e6db74>&#34;text/plain;charset=UTF-8&#34;</span>)
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>POST</span>(HttpRequest.<span style=color:#a6e22e>BodyPublishers</span>.<span style=color:#a6e22e>ofByteArray</span>(sampleData))
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>build</span>();
</span></span></code></pre></div><h3 id=fileprocessor>FileProcessor
<a href=#fileprocessor class=h-anchor aria-hidden=true>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>HttpRequest request <span style=color:#f92672>=</span> HttpRequest.<span style=color:#a6e22e>newBuilder</span>()
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>uri</span>(<span style=color:#66d9ef>new</span> URI(<span style=color:#e6db74>&#34;https://postman-echo.com/post&#34;</span>))
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>headers</span>(<span style=color:#e6db74>&#34;Content-Type&#34;</span>, <span style=color:#e6db74>&#34;text/plain;charset=UTF-8&#34;</span>)
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>POST</span>(HttpRequest.<span style=color:#a6e22e>BodyPublishers</span>.<span style=color:#a6e22e>fromFile</span>(
</span></span><span style=display:flex><span>    Paths.<span style=color:#a6e22e>get</span>(<span style=color:#e6db74>&#34;src/test/resources/sample.txt&#34;</span>)))
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>build</span>();
</span></span></code></pre></div><h2 id=httpclient>HttpClient
<a href=#httpclient class=h-anchor aria-hidden=true>#</a></h2><p>모든 요청은 <code>HttpClient</code> 를 통해 전송한다. <code>HttpClient</code> 는 <code>HttpClient.newBuilder()</code> 메서드 또는 <code>HttpClient.newHttpClient()</code> 를 통해 얻을 수 있다.</p><h3 id=response-body-핸들링>Response Body 핸들링
<a href=#response-body-%ed%95%b8%eb%93%a4%eb%a7%81 class=h-anchor aria-hidden=true>#</a></h3><p>Publisher 와 비슷하게 Response Body handler 생성을 위한 메서드가 있다.</p><pre tabindex=0><code>BodyHandlers.ofByteArray
BodyHandlers.ofString
BodyHandlers.ofFile
BodyHandlers.discarding
BodyHandlers.replacing
BodyHandlers.ofLines
BodyHandlers.fromLineSubscriber
</code></pre><p><code>BodyHandlers</code> 팩토리 클래스의 사용에 주의한다. java 11 이전 버전에서는 다음과 같이 사용했다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>HttpResponse<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;</span> response <span style=color:#f92672>=</span> client.<span style=color:#a6e22e>send</span>(request, HttpResponse.<span style=color:#a6e22e>BodyHandler</span>.<span style=color:#a6e22e>asString</span>());
</span></span></code></pre></div><p>이제는 다음과 같이 사용할 수 있다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>HttpResponse<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;</span> response <span style=color:#f92672>=</span> client.<span style=color:#a6e22e>send</span>(request, BodyHandlers.<span style=color:#a6e22e>ofString</span>());
</span></span></code></pre></div><h3 id=proxy-설정>Proxy 설정
<a href=#proxy-%ec%84%a4%ec%a0%95 class=h-anchor aria-hidden=true>#</a></h3><p>Builder 인스턴스에서 <code>proxy()</code> 메서드를 사용하여 간단하게 프록시를 추가할 수 있다. 다음은 시스템 기본 프록시를 사용하게 하는 예제이다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>HttpResponse<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;</span> response <span style=color:#f92672>=</span> HttpClient
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>newBuilder</span>()
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>proxy</span>(ProxySelector.<span style=color:#a6e22e>getDefault</span>())
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>build</span>()
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>send</span>(request, BodyHandlers.<span style=color:#a6e22e>ofString</span>());
</span></span></code></pre></div><h3 id=redirect-polcy-설정>Redirect Polcy 설정
<a href=#redirect-polcy-%ec%84%a4%ec%a0%95 class=h-anchor aria-hidden=true>#</a></h3><p>접근하려는 페이지가 다른 주소로 이동하는 경우가 있다. 이 경우 일반적으로 변경된 URI 와 함께 HTTP 상태코드 3xx 를 받게 된다. 적절한 리다이렉션 정책을 설정하면 <code>HttpClient</code> 가 자동으로 요청을 새 URI 로 리다이렉션 한다. 리다이렉션 정책 설정은 Builder 인스턴스의 <code>followRedirects()</code> 메서드를 사용한다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>HttpResponse<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;</span> response <span style=color:#f92672>=</span> HttpClient.<span style=color:#a6e22e>newBuilder</span>()
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>followRedirects</span>(HttpClient.<span style=color:#a6e22e>Redirect</span>.<span style=color:#a6e22e>ALWAYS</span>)
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>build</span>()
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>send</span>(request, BodyHandlers.<span style=color:#a6e22e>ofString</span>());
</span></span></code></pre></div><p>리다이렉션 정책은 <code>HttpClient.Redirect</code> 에 정의 되어 있다.</p><h3 id=authenticator-설정>Authenticator 설정
<a href=#authenticator-%ec%84%a4%ec%a0%95 class=h-anchor aria-hidden=true>#</a></h3><p><code>Authenticator</code> 는 연결을 위한 자격증명을 나타낸다. 예를 들어 연결 하려는 서버가 username, password 를 요구한다면 <code>PasswordAuthentication</code> 클래스를 사용할 수 있다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>HttpResponse<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;</span> response <span style=color:#f92672>=</span> HttpClient.<span style=color:#a6e22e>newBuilder</span>()
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>authenticator</span>(<span style=color:#66d9ef>new</span> Authenticator() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>protected</span> PasswordAuthentication <span style=color:#a6e22e>getPasswordAuthentication</span>() {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> PasswordAuthentication(
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;username&#34;</span>, 
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;password&#34;</span>.<span style=color:#a6e22e>toCharArray</span>());
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}).<span style=color:#a6e22e>build</span>()
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>send</span>(request, BodyHandlers.<span style=color:#a6e22e>ofString</span>());
</span></span></code></pre></div><h3 id=send-requests---sync-vs-async>Send Requests - Sync vs. Async
<a href=#send-requests---sync-vs-async class=h-anchor aria-hidden=true>#</a></h3><p><code>HttpClient</code> 는 동기와 비동기 요청 모두 제공한다.</p><ul><li><code>send()</code> - 동기</li><li><code>sendAsync()</code> - 비동기</li></ul><p><code>send</code> 메서드는 응답이 올 때까지 기다리고, <code>HttpResponse</code> 객체를 리턴한다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>HttpResponse<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;</span> response <span style=color:#f92672>=</span> HttpClient.<span style=color:#a6e22e>newBuilder</span>()
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>build</span>()
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>send</span>(request, BodyHandlers.<span style=color:#a6e22e>ofString</span>());
</span></span></code></pre></div><p>응답이 올 때까지 기다리기 때문에 많은 양의 데이터를 처리해야 할 때 단점이 있다. 반면에 <code>sendAsync</code> 메서드는 비동기로 작동하며 <code>CompletableFeature&lt;HttpResponse></code> 를 리턴한다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>CompletableFuture<span style=color:#f92672>&lt;</span>HttpResponse<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;&gt;</span> response <span style=color:#f92672>=</span> HttpClient.<span style=color:#a6e22e>newBuilder</span>()
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>build</span>()
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>sendAsync</span>(request, HttpResponse.<span style=color:#a6e22e>BodyHandlers</span>.<span style=color:#a6e22e>ofString</span>());
</span></span></code></pre></div><p>다음과 같은 사용도 가능하다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>List<span style=color:#f92672>&lt;</span>URI<span style=color:#f92672>&gt;</span> targets <span style=color:#f92672>=</span> Arrays.<span style=color:#a6e22e>asList</span>(
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>new</span> URI(<span style=color:#e6db74>&#34;https://postman-echo.com/get?foo1=bar1&#34;</span>),
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>new</span> URI(<span style=color:#e6db74>&#34;https://postman-echo.com/get?foo2=bar2&#34;</span>));
</span></span><span style=display:flex><span>HttpClient client <span style=color:#f92672>=</span> HttpClient.<span style=color:#a6e22e>newHttpClient</span>();
</span></span><span style=display:flex><span>List<span style=color:#f92672>&lt;</span>CompletableFuture<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;&gt;</span> futures <span style=color:#f92672>=</span> targets.<span style=color:#a6e22e>stream</span>()
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>map</span>(target <span style=color:#f92672>-&gt;</span> client
</span></span><span style=display:flex><span>    .<span style=color:#a6e22e>sendAsync</span>(
</span></span><span style=display:flex><span>      HttpRequest.<span style=color:#a6e22e>newBuilder</span>(target).<span style=color:#a6e22e>GET</span>().<span style=color:#a6e22e>build</span>(),
</span></span><span style=display:flex><span>      HttpResponse.<span style=color:#a6e22e>BodyHandlers</span>.<span style=color:#a6e22e>ofString</span>())
</span></span><span style=display:flex><span>    .<span style=color:#a6e22e>thenApply</span>(response <span style=color:#f92672>-&gt;</span> response.<span style=color:#a6e22e>body</span>()))
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>collect</span>(Collectors.<span style=color:#a6e22e>toList</span>());
</span></span></code></pre></div><h3 id=비동기를-위한-executor-설정>비동기를 위한 Executor 설정
<a href=#%eb%b9%84%eb%8f%99%ea%b8%b0%eb%a5%bc-%ec%9c%84%ed%95%9c-executor-%ec%84%a4%ec%a0%95 class=h-anchor aria-hidden=true>#</a></h3><p>비동기 호출 시 사용할 스레드를 제공하는 <code>Executor</code> 을 정의할 수도 있다. 이를 사용하여 요청 처리에 사용되는 스레드 수를 제한할 수 있다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>ExecutorService executorService <span style=color:#f92672>=</span> Executors.<span style=color:#a6e22e>newFixedThreadPool</span>(2);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>CompletableFuture<span style=color:#f92672>&lt;</span>HttpResponse<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;&gt;</span> response1 <span style=color:#f92672>=</span> HttpClient.<span style=color:#a6e22e>newBuilder</span>()
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>executor</span>(executorService)
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>build</span>()
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>sendAsync</span>(request, HttpResponse.<span style=color:#a6e22e>BodyHandlers</span>.<span style=color:#a6e22e>ofString</span>());
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>CompletableFuture<span style=color:#f92672>&lt;</span>HttpResponse<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;&gt;</span> response2 <span style=color:#f92672>=</span> HttpClient.<span style=color:#a6e22e>newBuilder</span>()
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>executor</span>(executorService)
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>build</span>()
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>sendAsync</span>(request, HttpResponse.<span style=color:#a6e22e>BodyHandlers</span>.<span style=color:#a6e22e>ofString</span>());
</span></span></code></pre></div><p><code>HttpClient</code> 는 기본적으로 <code>java.util.concurrent.Executors.newCachedThreadPool()</code> 를 사용한다.</p><h3 id=cookiehandler-설정>CookieHandler 설정
<a href=#cookiehandler-%ec%84%a4%ec%a0%95 class=h-anchor aria-hidden=true>#</a></h3><p>Builder 의 <code>cookieHandler</code> 메서드를 사용하여 클라이언트별 <code>CookieHandler</code> 를 손쉽게 설정할 수 있다. 예를 들어 모든 쿠키를 허용하지 않으려면 다음과 같이 사용할 수 있다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>HttpClient.<span style=color:#a6e22e>newBuilder</span>()
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>cookieHandler</span>(<span style=color:#66d9ef>new</span> CookieManager(<span style=color:#66d9ef>null</span>, CookiePolicy.<span style=color:#a6e22e>ACCEPT_NONE</span>))
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>build</span>();
</span></span></code></pre></div><p>만약 <code>CookieManager</code> 가 쿠키 저장을 허용했다면 <code>HttpClient</code> 에서 <code>CookieHandler</code> 를 통해 쿠키에 액세스 할 수 있다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>((CookieManager) httpClient.<span style=color:#a6e22e>cookieHanlder</span>().<span style=color:#a6e22e>get</span>()).<span style=color:#a6e22e>getCookieStore</span>()
</span></span></code></pre></div><h2 id=httpresponse>HttpResponse
<a href=#httpresponse class=h-anchor aria-hidden=true>#</a></h2><p><code>HttpResponse</code> 클래스는 서버의 응답을 나타낸다. 여러가지 유용한 메서드가 있지만 가장 중요한 것은 두 가지 이다.</p><ul><li><code>statusCode()</code> - HTTP 상태 코드를 반환한다.</li><li><code>body()</code> - 응답에 대한 본문을 반환하며 반환 유형은 <code>send()</code> 메서드에 전달된 <code>BodyHandler</code> 에 따라 다르다.</li></ul><p>이 외에도 <code>uri()</code>, <code>headers()</code>, <code>trailers()</code>, <code>version()</code> 등과 같은 유용한 메서드가 있다.</p><h3 id=response-객체의-uri>Response 객체의 URI
<a href=#response-%ea%b0%9d%ec%b2%b4%ec%9d%98-uri class=h-anchor aria-hidden=true>#</a></h3><p>Response 객체의 <code>uri()</code> 메서드는 응답 된 URI 를 반환한다. 리다이렉션이 일어났을 수도 있기 때문에 request 객체의 URI 와 다른 경우도 있다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>assertThat(request.<span style=color:#a6e22e>uri</span>().<span style=color:#a6e22e>toString</span>(), equalTo(<span style=color:#e6db74>&#34;http://stackoverflow.com&#34;</span>));
</span></span><span style=display:flex><span>assertThat(response.<span style=color:#a6e22e>uri</span>().<span style=color:#a6e22e>toString</span>(), equalTo(<span style=color:#e6db74>&#34;https://stackoverflow.com/&#34;</span>));
</span></span></code></pre></div><h3 id=response-headers>Response Headers
<a href=#response-headers class=h-anchor aria-hidden=true>#</a></h3><p>Response 객체의 <code>headers()</code> 메서드를 통해 응답 헤더를 확인할 수 있다. 응답 헤더는 <code>HttpHeaders</code> 이며 read-only 이다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>HttpResponse<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;</span> response <span style=color:#f92672>=</span> HttpClient.<span style=color:#a6e22e>newHttpClient</span>()
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>send</span>(request, HttpResponse.<span style=color:#a6e22e>BodyHandlers</span>.<span style=color:#a6e22e>ofString</span>());
</span></span><span style=display:flex><span>HttpHeaders responseHeaders <span style=color:#f92672>=</span> response.<span style=color:#a6e22e>headers</span>();
</span></span></code></pre></div><h3 id=response-version>Response Version
<a href=#response-version class=h-anchor aria-hidden=true>#</a></h3><p><code>version()</code> 메서드를 통해 서버와 통신하는 데 사용된 HTTP 프로토콜의 버전을 알 수 있다. 요청 시 HTTP/2 버전을 사용했더라도 HTTP/1.1 을 통해 응답이 올 수도 있음에 주의한다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>HttpRequest request <span style=color:#f92672>=</span> HttpRequest.<span style=color:#a6e22e>newBuilder</span>()
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>uri</span>(<span style=color:#66d9ef>new</span> URI(<span style=color:#e6db74>&#34;https://postman-echo.com/get&#34;</span>))
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>version</span>(HttpClient.<span style=color:#a6e22e>Version</span>.<span style=color:#a6e22e>HTTP_2</span>)
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>GET</span>()
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>build</span>();
</span></span><span style=display:flex><span>HttpResponse<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;</span> response <span style=color:#f92672>=</span> HttpClient.<span style=color:#a6e22e>newHttpClient</span>()
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>send</span>(request, HttpResponse.<span style=color:#a6e22e>BodyHandlers</span>.<span style=color:#a6e22e>ofString</span>());
</span></span><span style=display:flex><span>assertThat(response.<span style=color:#a6e22e>version</span>(), equalTo(HttpClient.<span style=color:#a6e22e>Version</span>.<span style=color:#a6e22e>HTTP_1_1</span>));
</span></span></code></pre></div><h2 id=참조>참조
<a href=#%ec%b0%b8%ec%a1%b0 class=h-anchor aria-hidden=true>#</a></h2><p><a href=https://www.baeldung.com/java-9-http-client>Exploring the New HTTP Client in Java</a></p></div><div class=pagination><div class=pagination__title><span class=pagination__title-h>다른 게시물 읽기</span><hr></div><div class=pagination__buttons><span class="button previous"><a href=https://disj11.github.io/memory-efficient-iterable-data-processing-with-sequences/><span class=button__icon>←</span>
<span class=button__text>Kotlin Iterable과 Sequence의 차이점과 활용법</span>
</a></span><span class="button next"><a href=https://disj11.github.io/number-formatter-in-java/><span class=button__text>Number Formatter in Java</span>
<span class=button__icon>→</span></a></span></div></div></article></div><footer class=footer><div class=footer__inner><a href=/ class=logo style=text-decoration:none><span class=logo__mark><svg class="greater-icon" viewBox="0 0 44 44"><path fill="none" d="M15 8l14.729 14.382L15 35.367"/></svg>
</span><span class=logo__text>Life Log</span>
<span class=logo__cursor></span></a><div class=copyright><span>© 2025 Powered by <a href=https://gohugo.io target=_blank rel=noopener>Hugo</a></span>
<span><a href=https://github.com/panr/hugo-theme-hello-friend target=_blank>Theme</a> made by <a href=https://github.com/panr target=_blank>panr</a></span></div></div></footer><script type=text/javascript src=/bundle.min.js></script></div></body></html>